### 250212(Wed)

# Java

## 다형성
```java
클래스명 참조변수 = new 클래스생성자; 
```
참조변수 타입의 클래스명은 상속 관계에 있는 부모 클래스명으로 정의해도된다. 
부모 클래스 생성자의 참조변수 클래스명 타입은 자식 클래스가 될 수 없다. 

부모 클래스의 메소드를 재정의하지 않으면 부모 클래스와 같은 주소의 메소드 주소 값을 참조하며 재정의하는 순간 메모리에 인스턴스 메소드 메모리 영역을 따로 할당하며 부모 메소드와 다른 주소 값을 참조한다. 

클래스의 형변환은 가능하지만 인스턴스 멤버의 참조 범위만 조정 가능하며 참조하고 있는 인스턴스의 주소 값은 생성되었을 때 주소 값으로 유효하다.
```java
// 부모 참조 타입의 변수에 부모 클래스를 상속 받은 자식 클래스의 인스턴스를 할당할 수 있다. 
Parent p = new Child();

// 부모 클래스를 상속 받은 자식 클래스의 참조 타입 변수에는 부모 클래스의 인스턴스를 할당할 수 없다.
Child c = new Parent();
```
부모 클래스에서 자식 클래스로 데이터를 상속하고 있지만 인스턴스 영역의 크기는 자식 클래스가 더 많은 영역을 차지하고 있고 부모 클래스의 영역보다 확장된 범위의 영역을 가지고 있기 때문에 좁은 범위의 부모 클래스 타입이 참조하지 못하는 영역도 존재하므로 자식 참조 타입의 변수에 부모 클래스의 인스턴스는 생성할 수 없다.

```java
if(c instanceof Sonata) {
  ((Sonata)c).moveSonata();
} else if(c instanceof Avante) {
  ((Avante)c).moveAvante();
}

```